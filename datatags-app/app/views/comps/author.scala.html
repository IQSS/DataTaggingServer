@import edu.harvard.iq.datatags.model.metadata._
@(a:AuthorData)

@person( p:PersonAuthorData ) = {
@if(p.getUrl!=null && p.getUrl.trim.nonEmpty){
  <a href="@p.getUrl">@p.getName</a>
}else{
  @p.getName
}
  @Helpers.nonEmpty(p.getAffiliation){ affiliation => <em>@affiliation</em> }<br>
  @Helpers.nonEmpty(p.getEmail){ email => <small><a href="mailto:@email">@email</a></small> }
  @Helpers.nonEmpty(p.getOrcid){ orcid => <small>ORCiD: <a href="http://orcid.org/@p.getOrcid">@p.getOrcid</a></small> }
}

@group( g:GroupAuthorData ) = {
  @if(g.getUrl!=null && g.getUrl.trim.nonEmpty){
    <em><a href="@g.getUrl">@g.getName</a></em>
  }else{
    <em>@g.getName</em>
  }
  @if( g.getContact!=null && g.getContact.nonEmpty){
   (contact: @g.getContact)
}
}

@a match {
  case p:PersonAuthorData => {@person(p)}
  case g:GroupAuthorData  => {@group(g)}
}