@(form:Form[UserFormData], destination:Call, isNew:Boolean)

@templates.bsNavBar("Profile Editor", 'backOffice ) {
  <div class="row">
    <div class="col-md-12">
      <h1>User Profile Editor</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <form class="form-horizontal" action="@destination.url" method="POST">
        @if( form.hasGlobalErrors ){
          <ul>
            @for( ge <- form.globalErrors ){
              <li class="text-danger">@Helpers.messageToEng(ge)</li>
            }
          </ul>
        }
        <div class="form-group@Helpers.fieldStatus(form("username"))">
          <label for="idInput" class="col-sm-2 control-label">Username</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="usernameInput" name="username" value="@form("username").value.getOrElse("")"
            placeholder="username" @if(!isNew){readonly}>
            @if(form("username").hasErrors){
              <div class="errors">
              @form("username").errors.map(Helpers.messageToEng).mkString("<br>")
              </div>
            }
            <span class="helper-block">
              The name used to identify the user (e.g. for logging into the system). This value cannot be changed later.
            </span>
          </div>
        </div>

        @if(isNew){
          <div class="form-group@Helpers.fieldStatus(form("password1"))">
            <label for="password1Input" class="col-sm-2 control-label">Password</label>
            <div class="col-sm-10">
              <input type="password" class="form-control" id="password1Input" name="password1" value="@form("password1").value.getOrElse("")"
              placeholder="Password">
              @if(form("password1").hasErrors){
                <div class="errors">
                @form("password1").errors.map(Helpers.messageToEng).mkString("<br>")
                </div>
              }
            </div>
          </div>
          <div class="form-group@Helpers.fieldStatus(form("password2"))">
            <label for="password2Input" class="col-sm-2 control-label">Password (again)</label>
            <div class="col-sm-10">
              <input type="password" class="form-control" id="password2Input" name="password2" value="@form("password2").value.getOrElse("")"
              placeholder="Password">
              @if(form("password2").hasErrors){
                <div class="errors">
                @form("password2").errors.map(Helpers.messageToEng).mkString("<br>")
                </div>
              }
            </div>
          </div>
        }

        <div class="form-group@Helpers.fieldStatus(form("name"))">
          <label for="nameInput" class="col-sm-2 control-label">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="nameInput" name="name" value="@form("name").value.getOrElse("")" placeholder="Human name">
            @if(form("name").hasErrors){
              <div class="errors">
              @form("name").errors.map(Helpers.messageToEng).mkString("<br>")
              </div>
            }
          </div>
        </div>

        <div class="form-group@Helpers.fieldStatus(form("email"))">
          <label for="emailInput" class="col-sm-2 control-label">Email Address</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="emailInput" name="email" value="@form("email").value.getOrElse("")"
            placeholder="Email address">
            @if(form("email").hasErrors){
              <div class="errors">
              @form("email").errors.map(Helpers.messageToEng).mkString("<br>")
              </div>
            }
            <span class="helper-block">
              The email address is used for creating new passwords, and sending notifications.
            </span>
          </div>
        </div>

        <div class="form-group@Helpers.fieldStatus(form("orcid"))">
          <label for="orcidInput" class="col-sm-2 control-label">ORCiD</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="orcidInput" name="orcid" value="@form("orcid").value.getOrElse("")"
            placeholder="ORCiD (a number in the ORCiD system, identifying the user).">
            @if(form("orcid").hasErrors){
              <div class="errors">
              @form("orcid").errors.map(Helpers.messageToEng).mkString("<br>")
              </div>
            }
          </div>
        </div>

        <div class="form-group@Helpers.fieldStatus(form("url"))">
          <label for="urlInput" class="col-sm-2 control-label">Website</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="urlInput" name="url" value="@form("url").value.getOrElse("")"
            placeholder="Users's website, or other online profile page">
            @if(form("url").hasErrors){
              <div class="errors">
              @form("url").errors.map(Helpers.messageToEng).mkString("<br>")
              </div>
            }
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-12 text-right">
            <hr>
            <a href="" class="btn btn-default">Cancel</a>
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </div>

      </form>
    </div>
  </div>
}

